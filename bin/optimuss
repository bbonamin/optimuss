#!/usr/bin/env ruby
require 'gli'
require 'optimuss'
include GLI::App

program_desc 'A prime number and multiplication table generator'

version Optimuss::VERSION

subcommand_option_handling :normal
arguments :strict

desc 'Print a multiplication table with the first 10 primes'
command :prime_table do |c|
  c.action do
    primes = Optimuss::PrimeGenerator.take(count: 10)
    table = Optimuss::MultiplicationTable.new(collection: primes)
    table.generate!
    puts Optimuss::Renderer.new.render(table: table.product)
  end
end

desc 'Print the prime number at the given location'
command :prime_at do |c|
  c.action do
    puts 'prime_at command ran'
  end
end

exit run(ARGV)
